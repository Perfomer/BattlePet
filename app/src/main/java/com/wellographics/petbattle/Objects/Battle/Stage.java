package com.wellographics.petbattle.Objects.Battle;import android.content.Context;import com.wellographics.petbattle.Objects.Battle.CombatPet;import com.wellographics.petbattle.Objects.Battle.Location;import com.wellographics.petbattle.Objects.Level;import com.wellographics.petbattle.Objects.Pet;import java.util.ArrayList;public class Stage {    private final int MISSING_VALUE = -1;    private Context sContext;    private int sIdentifier, sPetOwnersLevel;    private Pet[] sPets;    private Location sLocation;    public Stage(Context context, int identifier) {        sContext = context;        sIdentifier = identifier;        setPrimalData();    }    private void setPrimalData() {        int stats[] = getPetsDataArray(),            stats2[] = getStageDataArray();        if (stats != null) {            int id = MISSING_VALUE, spells[] = new int[CombatPet.MAX_SPELLS_IN_THE_BATTLE];            sLocation = new Location(sContext, stats2[0]);            sPetOwnersLevel = stats2[1];            ArrayList<Pet> pets = new ArrayList<>();            for (int i = 0, spell = 0; i < stats.length; i++) { //вроде косячный алгоритм                switch (i % 4) {                    case 0:                        if (i != 0) {                            Pet pet = new Pet(sContext, id);                            pet.setActualSpells(spells);                            pets.add(pet);                            spell = 0;                        }                        id = stats[i];                        continue;                    default:                        spells[spell] = stats[i];                        spell++;                }            }            sPets = pets.toArray(new Pet[pets.size()]);        }    }    public Pet[] getPetsArray() {        return sPets;    }    public Level getOwnersLevel() {        return new Level(sPetOwnersLevel, 0);    }    public Location getLocation() {        return sLocation;    }    public int getIdentifier() {        return sIdentifier;    }    private int[] getPetsDataArray() {        final String PATH = "StagePets_" + String.valueOf(sIdentifier);        int arrayId = sContext.getResources().getIdentifier(PATH, "array", sContext.getPackageName());        return sContext.getResources().getIntArray(arrayId);    }    private int[] getStageDataArray() {        final String PATH = "StageStats_" + String.valueOf(sIdentifier);        int arrayId = sContext.getResources().getIdentifier(PATH, "array", sContext.getPackageName());        return sContext.getResources().getIntArray(arrayId);    }}